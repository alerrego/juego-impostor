<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Impostores de Fútbol</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .screen { 
            display: none; 
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-top: 20px;
        }
        .impostor { 
            color: red; 
            font-weight: bold; 
            font-size: 1.2em;
        }
        .footballer { 
            color: green;
            font-size: 1.2em;
        }
        #playersContainer { 
            margin: 15px 0; 
        }
        .player-input { 
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .player-input label {
            min-width: 100px;
        }
        button {
            padding: 8px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #45a049;
        }
        input[type="text"], input[type="number"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            flex-grow: 1;
        }
        h1, h2 {
            color: #333;
        }
    </style>
</head>
<body>
    <div id="setupScreen" class="screen" style="display: block;">
        <h1>Juego de Impostores de Fútbol</h1>
        <div id="playersContainer">
            <div class="player-input">
                <label for="player1">Jugador 1:</label>
                <input type="text" id="player1" placeholder="Nombre del jugador">
            </div>
            <div class="player-input">
                <label for="player2">Jugador 2:</label>
                <input type="text" id="player2" placeholder="Nombre del jugador">
            </div>
        </div>
        <button id="addPlayerBtn">➕ Agregar Jugador</button>
        <button id="removePlayerBtn">➖ Eliminar Jugador</button>
        
        <div style="margin: 15px 0;">
            <label for="impostorCount" style="display: block; margin-bottom: 5px;">Número de Impostores:</label>
            <input type="number" id="impostorCount" min="1" value="1" style="width: 60px;">
        </div>
        
        <button id="startBtn">Comenzar Juego</button>
    </div>

    <div id="roleScreen" class="screen">
        <h2 id="currentPlayer"></h2>
        <div id="currentRole" style="margin: 20px 0; min-height: 60px;"></div>
        <button id="continueBtn">Continuar</button>
    </div>

    <div id="waitingScreen" class="screen">
        <h2>Pasa el dispositivo al siguiente jugador</h2>
        <button id="nextPlayerBtn">Mostrar siguiente rol</button>
    </div>

    <div id="endScreen" class="screen">
        <h2>¡Juego Terminado!</h2>
        <div id="impostorReveal" style="margin: 20px 0;"></div>
        <button id="restartBtn">Jugar de Nuevo</button>
    </div>

    <script>
        const footballers = [
            // === Estrellas Mundiales (Actuales y Muy Recientes) ===
            "Lionel Messi",
            "Cristiano Ronaldo",
            "Neymar Jr",
            "Kylian Mbappé",
            "Erling Haaland",
            "Robert Lewandowski",
            "Kevin De Bruyne",
            "Mohamed Salah",
            "Karim Benzema",
            "Luka Modrić",
            "Vinícius Júnior",
            "Harry Kane",
            "Antoine Griezmann",
            "Heung-min Son (Sonny)",
            "Jude Bellingham",
            "Federico Valverde",

            // === Leyendas Mundiales (Iconos 80s en adelante) ===
            "Pelé",
            "Diego Maradona",
            "Johan Cruyff",
            "Zinedine Zidane",
            "Ronaldo Nazário",
            "Ronaldinho",
            "Andrés Iniesta",
            "Xavi Hernández",
            "Thierry Henry",
            "Paolo Maldini",
            "Roberto Baggio",
            "Romário",
            "Marco van Basten",
            "Michel Platini",
            "Lothar Matthäus",
            "Roberto Carlos",
            "Cafu",
            "Sergio Ramos",
            "Steven Gerrard",
            "Frank Lampard",
            "Didier Drogba",
            "Samuel Eto'o",
            "Dennis Bergkamp",
            "Andriy Shevchenko",

            // === Porteros Legendarios (80s en adelante) ===
            "Gianluigi Buffon",
            "Iker Casillas",
            "Oliver Kahn",
            "Manuel Neuer",

            // === Selección Argentina (Actuales y Conocidos) ===
            "Ángel Di María (Fideo)",
            "Emiliano Martínez (Dibu)",
            "Julian Álvarez (La Araña)",
            "Enzo Fernández",
            "Paulo Dybala (La Joya)",
            "Lautaro Martínez (El Toro)",
            "Lisandro Martínez (Licha)",
            "Cristian Romero (Cuti)",
            "Leandro Paredes",
            "Rodrigo De Paul (Motorcito)",
            "Alexis Mac Allister",
            "Nicolás Otamendi (General)",

            // === Leyendas Argentinas (80s en adelante) ===
            "Gabriel Batistuta (Batigol)",
            "Juan Román Riquelme",
            "Sergio Agüero (Kun)",
            "Carlos Tevez (El Apache)",
            "Hernán Crespo (Valdanito)",
            "Claudio Caniggia (El Pájaro)",
            "Ariel Ortega (El Burrito)",
            "Javier Zanetti (Pupi)",
            "Juan Sebastián Verón (La Brujita)",
            "Fernando Redondo (El Príncipe)",
            "Oscar Ruggeri (El Cabezón)",
            "Diego Simeone (Cholo)",
            "Gonzalo Higuaín (Pipa)",
            "Javier Pastore (El Flaco)",
            "Ezequiel Lavezzi (Pocho)",
            "Javier Mascherano (El Jefecito)",
            "Walter Samuel (El Muro)",
            "Juan Pablo Sorín (Juampi)",

            // === Ídolos de Clubes (80s en adelante) ===

            // Boca Juniors
            "Martín Palermo (El Titán)",
            "Guillermo Barros Schelotto (El Melli)",
            "Roberto Abbondanzieri (Pato)",
            "Carlos Navarro Montoya (El Mono)",
            "Hugo Ibarra (Negro)",
            "Gary Medel (El Pitbull)",
            "Pablo Pérez",
            "Santiago Silva (El Tanque)",
            "Oscar Córdoba",
            "Marcelo Delgado (Chelo)",
            "Mauricio Serna (Chicho)",
            "Juan Ramírez",
            "Cristian Pavón (Kichan)",
            "Darío Benedetto (Pipa)",
            "Nahitan Nández",
            "Exequiel Zeballos (Changuito)",
            "Miguel Merentiel (La Bestia)",
            "Edinson Cavani (El Matador)",
            "Frank Fabra",
            "Jorge Bermúdez (El Patrón)",
            "Sebastián Battaglia (Seba)",
            "Rodolfo Arruabarrena (El Vasco)",
            "Antonio Barijho (Chipi)",
            "Rodrigo Palacio (La JoyA)",
            "Rolando Schiavi (El Flaco)",
            "Cristian Medina",
            "Marcos Rojo",
            "Sergio Romero (Chiquito)",
            "Ezequiel Fernández (Equi)",
            "Luis Advíncula (Rayo)", 
            "Clemente Rodríguez", 

            // River Plate
            "Enzo Francescoli (El Príncipe)",
            "Juan Fernando Quintero (Juanfer)",
            "Franco Armani",
            "Radamel Falcao (El Tigre)",
            "Alexis Sánchez (Niño Maravilla)",
            "Marcelo Gallardo (El Muñeco)",
            "Pablo Aimar (El Payaso)",
            "Javier Saviola (El Conejito)",
            "Marcelo Salas (El Matador)",
            "Ramiro Funes Mori (El Melli)",
            "Leonardo Ponzio (El León)",
            "Leonardo Astrada (El Jefe)",
            "Norberto Alonso (Beto)",
            "Fernando Cavenaghi (Cavegol)",
            "Matías Almeyda (Pelado)",
            "Enzo Pérez",
            "Ramón Díaz (El Pelado)",
            "Germán Burgos (El Mono)",
            "Ignacio Fernández (Nacho)",
            "Miguel Borja (El Colibrí)",
            "Claudio Echeverri (Diablito)",
            "Nacho Scocco", 

            // Estudiantes de La Plata
            "José Luis Brown (Tata)",
            "Mauro Boselli",
            "Leandro Desábato (Chavo)",
            "Mariano Andújar",
            "Alejandro Sabella (Pachorra)",
            "Ernesto Farías (Tecla)",
            "Benjamín Rollheiser",
            "Guido Carrillo",
            "Gerónimo Rulli",
            "José Sosa (El Principito)",
            "Jonatan Schunke (El Vikingo)",
            "Santiago Ascacíbar (Rusito)",
            "Edwin Cetré",
            "Gastón Fernández (La Gata)",
            "Marcos Rojo", 
            "José Luis Calderón (Caldera)",
            "Mariano Pavone (El Tanque)",
            "Leandro Benítez (Chino)",

            // Gimnasia y Esprima La Plata
            "Pedro Troglio",
            "Ignacio Fernández (Nacho)", 
            "Maximiliano Meza",
            "Fernando Monetti (Mono)",
            "Facundo Oreja",
            "Cristian Tarragona",
            "Benjamín Domínguez",
            "Brahian Alemán (Oveja)",
            "Franco Niell (El Enano)",
            "Fabián Rinaudo (Fito)",
            "Lucas Licht (Bochi)",
            "Sebastián Romero (Chirola)",
            
            // Racing Club [NUEVO]
            "Diego Milito (El Príncipe)", 
            "Lisandro López (Licha)", 
            "Gustavo Bou (La Pantera)", 
            "Turco Garcia (falopa)", 
            "Adrián Maravilla Martínez", 

            // Independiente [NUEVO]
            "Ricardo Bochini (El Bocha)", 
            "Daniel Montenegro (Rolfi)", 
            "Gabriel Milito (Gabi)", 
            "Federico Mancuello", 

            // San Lorenzo [NUEVO]
            "Leandro Romagnoli (Pipi)", 
            "Néstor Ortigoza (Gordo)", 
            "Sebastián Torrico (Cóndor)", 
            "Adam Bareiro", 
            
            // Vélez Sarsfield [NUEVO]
            "José Luis Chilavert (Chila)", 
            "Omar Asad (El Turco)", 
            "Fabián Cubero (Poroto)", 

            "Pablo Vegetti","Illolaiy (vsc)","Fede Slezack (vsc)","Colocca (vsc)","Pulga Rodriguez","Bichi Fuertes"
        ];

        // Variables del juego
        let players = [];
        let impostorIndexes = [];
        let currentPlayerIndex = 0;
        let randomFootballer = footballers[Math.floor(Math.random() * footballers.length)];

        // Elementos del DOM
        const setupScreen = document.getElementById("setupScreen");
        const roleScreen = document.getElementById("roleScreen");
        const waitingScreen = document.getElementById("waitingScreen");
        const endScreen = document.getElementById("endScreen");
        const playersContainer = document.getElementById("playersContainer");

        const startBtn = document.getElementById("startBtn");
        const continueBtn = document.getElementById("continueBtn");
        const nextPlayerBtn = document.getElementById("nextPlayerBtn");
        const restartBtn = document.getElementById("restartBtn");
        const addPlayerBtn = document.getElementById("addPlayerBtn");
        const removePlayerBtn = document.getElementById("removePlayerBtn");
        const impostorCountInput = document.getElementById("impostorCount");

        const currentPlayerEl = document.getElementById("currentPlayer");
        const currentRoleEl = document.getElementById("currentRole");
        const impostorRevealEl = document.getElementById("impostorReveal");

        // Event listeners
        startBtn.addEventListener("click", startGame);
        continueBtn.addEventListener("click", showWaitingScreen);
        nextPlayerBtn.addEventListener("click", showNextPlayer);
        restartBtn.addEventListener("click", restartGame);
        addPlayerBtn.addEventListener("click", addPlayerInput);
        removePlayerBtn.addEventListener("click", removePlayerInput);
        impostorCountInput.addEventListener("change", validateImpostorCount);

        // Función para agregar un nuevo campo de jugador
        function addPlayerInput() {
            const playerCount = playersContainer.children.length;
            if (playerCount >= 10) {
                alert("Máximo 10 jugadores permitidos");
                return;
            }
            
            const playerId = `player${playerCount + 1}`;
            const div = document.createElement('div');
            div.className = 'player-input';
            div.innerHTML = `
                <label for="${playerId}">Jugador ${playerCount + 1}:</label>
                <input type="text" id="${playerId}" placeholder="Nombre del jugador">
            `;
            playersContainer.appendChild(div);
            
            validateImpostorCount();
        }

        // Función para eliminar el último campo de jugador
        function removePlayerInput() {
            if (playersContainer.children.length > 2) {
                playersContainer.removeChild(playersContainer.lastChild);
                validateImpostorCount();
            } else {
                alert("Debe haber al menos 2 jugadores");
            }
        }

        // Validar que el número de impostores no exceda el número de jugadores
        function validateImpostorCount() {
            const playerCount = playersContainer.children.length;
            const maxImpostors = Math.max(1, playerCount - 1);
            
            if (impostorCountInput.value > maxImpostors) {
                impostorCountInput.value = maxImpostors;
            }
            impostorCountInput.max = maxImpostors;
        }

        // Función para iniciar el juego
        function startGame() {
            players = [];
            const inputs = playersContainer.querySelectorAll('input[type="text"]');
            inputs.forEach(input => {
                const name = input.value.trim() || `Jugador ${players.length + 1}`;
                players.push(name);
            });

            if (players.length < 2) {
                alert("Debe haber al menos 2 jugadores");
                return;
            }

            let impostorCount = parseInt(impostorCountInput.value);
            const maxImpostors = players.length - 1;
            
            if (impostorCount < 1 || impostorCount > maxImpostors) {
                alert(`Debe haber entre 1 y ${maxImpostors} impostores`);
                return;
            }

            impostorIndexes = [];
            const availableIndexes = [...Array(players.length).keys()];
            
            for (let i = 0; i < impostorCount; i++) {
                const randomPos = Math.floor(Math.random() * availableIndexes.length);
                impostorIndexes.push(availableIndexes[randomPos]);
                availableIndexes.splice(randomPos, 1);
            }
            
            setupScreen.style.display = "none";
            currentPlayerIndex = 0;
            showPlayerRole();
        }

        // Mostrar rol del jugador actual
        function showPlayerRole() {
            roleScreen.style.display = "block";
            waitingScreen.style.display = "none";
            endScreen.style.display = "none";

            const player = players[currentPlayerIndex];
            currentPlayerEl.textContent = player;

            if (impostorIndexes.includes(currentPlayerIndex)) {
                currentRoleEl.innerHTML = '<span class="impostor">¡Tú eres el IMPOSTOR!</span>' + 
                                          '<p>Tu objetivo es hacer creer que sabes de fútbol sin ser descubierto.</p>';
            } else {
                currentRoleEl.innerHTML = `<span class="footballer">Tu futbolista es:<br><strong>${randomFootballer}</strong></span>` +
                                          `<p>Tu objetivo es descubrir quién no conoce realmente de fútbol.</p>`;
            }
        }

        // Mostrar pantalla de espera
        function showWaitingScreen() {
            roleScreen.style.display = "none";
            waitingScreen.style.display = "block";
        }

        // Mostrar siguiente jugador o finalizar
        function showNextPlayer() {
            currentPlayerIndex++;
            if (currentPlayerIndex < players.length) {
                showPlayerRole();
            } else {
                showEndScreen();
            }
        }

        // Nueva función para mostrar la pantalla final
        function showEndScreen() {
            roleScreen.style.display = "none";
            waitingScreen.style.display = "none";
            endScreen.style.display = "block";

            const impostorNames = impostorIndexes.map(index => players[index]);
            
            impostorRevealEl.innerHTML = `<h3>¡Todos vieron su rol!</h3>` +
                                         `<p>Es hora de debatir y votar.</p>` +
                                         `<hr>` +
                                         `<p style="font-size: 0.9em; color: #555;">(Info para verificar después):</p>` +
                                         `<p style="font-size: 0.9em; color: #555;">Los impostores eran: <strong>${impostorNames.join(", ")}</strong></p>` +
                                         `<p style="font-size: 0.9em; color: #555;">El futbolista era: <strong>${randomFootballer}</strong></p>`;
        }


        // Reiniciar el juego
        function restartGame() {
            currentPlayerIndex = 0;
            setupScreen.style.display = "block";
            endScreen.style.display = "none"; 
            impostorIndexes = [];
            randomFootballer = footballers[Math.floor(Math.random() * footballers.length)];
        }
    </script>
</body>
</html>
